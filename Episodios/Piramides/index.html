<html>
<head>
<link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i|Roboto+Slab:400,700&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="estilos.css" rel="stylesheet">
  <link href="lib/jquery-ui/jquery-ui.min.css" rel="stylesheet">
  <link href="lib/jquery-ui/jquery-ui.structure.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="lib/smoothscrollto.jquery.js"></script>
  <script src="lib/jquery-ui/jquery-ui.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js" integrity="sha256-xKeoJ50pzbUGkpQxDYHD7o7hxe0LaOGeguUidbq6vis=" crossorigin="anonymous"></script>

<script type="text/javascript">
$( document ).ready(function() {
    Chart.defaults.global.defaultFontFamily = 'Ubuntu Mono';


    function locale(nro) {
      return nro.toLocaleString().replace(/,/g, ".");
    };

  var ctx = {
    1: document.getElementById('myChart1').getContext('2d'),
    3: document.getElementById('myChart3').getContext('2d'),
    4: document.getElementById('myChart4').getContext('2d')
  };
  var CHART_DATA = {
    1: [],
    3: [],
    4: []
  };
  var CHART_OBJ = {
    1: null,
    3: null,
    4: null
  };

  var SIM_CHARTS = {
    1: {chart: null, data: [], ctx: document.getElementById('simChart1').getContext('2d')},
    2: {chart: null, data: [], ctx: document.getElementById('simChart2').getContext('2d')},
    3: {chart: null, data: [], ctx: document.getElementById('simChart3').getContext('2d')},
    4: {chart: null, data: [], ctx: document.getElementById('simChart4').getContext('2d')}
  };

  var CHART_MODE = false;
  var EJECUTANDO_SIM = 0;
  var contadorGanadores = 0;
  var contadorPerdedores = 0;

  initChart();

  // Funcion agregarNivel()
  function agregarNivel(nivel, cantidad) {
    var targetMarginHoriz = {
      5: 3,
      6: 2,
      7: 1,
      8: 1,
      9: 1,
      10: 1
    };
    var targetW = {
      5: 61,
      6: 36,
      7: 22,
      8: 12,
      9: 5
    };
    console.log('agregando nivel ' + nivel + ' (' + cantidad + ')');
    var $bloque = $("<div class='bloque nuevoBloque'" +
    "style='margin-top: 450; margin-left: 3; margin-right: 3; opacity: 0; " +
    "height: 40px; width: 2px;'>" +
    "<div class='relleno' style='height: 100%; opacity: 1;'></div></div>");
    var $nuevoNivel = $(`<div class='nivel _fuego n${nivel}'></div>`);

    for (var i=1; i<=cantidad; i++) {
      $bloque.clone().appendTo($nuevoNivel);
      if (nivel == 5 && i == 8) {
        // agregar split para level 5 (showcase split!)
        $nuevoNivel.append("<div class='tmpSplit split4' style='width: 160px'></div>");
      }
      if (nivel == 5 && [4,12].includes(i)) {
        // agregar split para level 5 (showcase split!)
        $nuevoNivel.append("<div class='tmpSplitB splitB4' style='width: 0'></div>");
      }
    }
    $nuevoNivel.appendTo('.piramide');
    $('.nuevoBloque').delay(20).animate({
      'margin-bottom': 6, 'margin-top': 0,
      'margin-left': targetMarginHoriz[nivel],
      'margin-right': targetMarginHoriz[nivel],
      'width': targetW[nivel], 'height': 80,
      'opacity': 1
    }, 500, function() {
      $('.nuevoBloque').each(function() {
        $(this).removeClass('nuevoBloque');
      });
    });
  }

  function animarContador(actual, valor, $elemento) {
    return new Promise(function(resolve, reject) {
      console.log('Animando contador:', valor, $elemento);
      $({num: actual}).stop(true).animate({num: valor}, {
        duration : 2000,
        easing: "easeOutQuad",
        step: function () {
          var valor = parseInt(this.num);
          $elemento.text(valor);
        }
      }).promise().done(function () {
          $elemento.text(valor);
          return resolve();
      });
    });
  }

  function animarContadores(nivel, ganador) {
    console.log('anim contadores', nivel);
    var g, p;
    switch (nivel) {
      case 1:
      g=1;
      p=8;
      break;
      case 2:
      g=3;
      p=24;
      break;
      case 3:
      g=7;
      p=56;
      break;
      case 4:
      g=15;
      p=120;
      break;
      case 5:
      g=31;
      p=248;
      break;
      case 6:
      g=63;
      p=504;
      break;
    }
    if (ganador) {
      console.log('anim ganadores >', contadorGanadores, g);
      animarContador(contadorGanadores, g, $('.ganadoresNum')).then(function() {
        contadorGanadores = g;
      });
    } else {
      console.log('anim perdedores >', contadorPerdedores, p);
      animarContador(contadorPerdedores, p, $('.perdedoresNum')).then(function() {
        contadorPerdedores = p;
      });
    }
  }


  $.fn.animateRotate = function(angle, duration, easing, complete) {
    var args = $.speed(duration, easing, complete);
    var step = args.step;
    return this.each(function(i, e) {
      args.complete = $.proxy(args.complete, e);
      args.step = function(now) {
        $.style(e, 'transform', 'rotate(' + now + 'deg)');
        if (step) return step.apply(e, arguments);
      };

      $({deg: 0}).animate({deg: angle}, args);
    });
  };

  var defaultDelay = 300;
  var defaultEasing = "linear";
  var mapa = [];

  // --- MAPA ---
  // Fase 1: Introduccion
  mapa = mapa.concat([
    {y: 0},   // 0
    {y: 300}, // 1
    {y: 400}, // 2
    {y: 550}, // 3
    {y: 600}, // 4
    {y: 830, delay: 700},
    {animacion: 'emoji_amor'},
    {animacion: 'emoji_odio'},
    {animacion: 'emoji_pensando'},
    {y: 1760}, // 9
    {animacion: 'parte1'},
    {animacion: 'parte2'},
    {animacion: 'parte1_center'}
  ]);

  // Fase 2: Telar de la Abundancia
  mapa = mapa.concat([
    {y: 3150},
    {animacion: 'nombre1'},
    {animacion: 'nombre2'},
    {animacion: 'nombre3'},
    {animacion: 'nombre4'},
    {animacion: 'nombre5'},
    {animacion: 'nombre6'},
    {y: 4140, delay: 1800, easing: 'easeOutQuart'},
    //{animacion: 'florParcial1'},
    //{animacion: 'florParcial2'},
    {animacion: 'ref_agua'},
    {animacion: 'flor1'},
    {animacion: 'flor2'},
    {animacion: 'flor3'},
    {animacion: 'highlight_fuego'},
    {animacion: 'all_fuego'},
    {animacion: 'mostrar_agua'},
    {animacion: 'transfer'},
    {animacion: 'mostrar_resto'},
    {animacion: 'agua_leave'},
    {animacion: 'split'},
    {animacion: 'split2'},
    {animacion: 'split3'},
    {animacion: 'split4play'},
    {y: 5250}
  ]);

  // Fase 3: Piramide
  mapa = mapa.concat([
    {animacion: 'piramide_inicial'}, // 31
    {animacion: 'piramide_dinero'},
    {animacion: 'piramide_transfer1'},
    {animacion: 'piramide_gana1'},
    {animacion: 'showcaseSplit'},
    {animacion: 'piramide_insert5'},
    {animacion: 'piramide_transfer2'},
    {animacion: 'piramide_gana2'},
    {animacion: 'showcaseSplitB'},
    {animacion: 'showcaseSplit2'},
    {animacion: 'piramide_insert6'},
    {animacion: 'piramide_transfer3'},
    {animacion: 'piramide_gana3'},
    {animacion: 'piramide_insert7'},
    {animacion: 'piramide_transfer4'},
    {animacion: 'piramide_gana4'},
    {animacion: 'piramide_insert8'},
    {animacion: 'piramide_transfer5'},
    {animacion: 'piramide_gana5'},
    {animacion: 'piramide_insert9'},
    {animacion: 'piramide_transfer6'},
    {animacion: 'piramide_gana6'},
    {animacion: 'hide_ganadores'}
  ]);

  // 55: Fase 4, simulaciones
  mapa = mapa.concat([
    {y: '6110'},
    {animacion: 'simuladores_foto'},
    {animacion: 'sim_panorama1'},
    {animacion: 'sim_prep2'},
    {animacion: 'sim_run2'},
    {animacion: 'sim_prep1'},
    {animacion: 'sim_run1'},
    {animacion: 'sim_prep3'},
    {animacion: 'sim_run3'},
    {animacion: 'sim_prep4'},
    {animacion: 'sim_run4'}
  ]);

  mapa = mapa.concat([
    {animacion: 'sim_prep1b'},
    {animacion: 'sim_run1b'},
    {animacion: 'sim_prep3b'},
    {animacion: 'sim_run3b'},
    {animacion: 'sim_prep4b'},
    {animacion: 'sim_run4b'},
  ]);

  mapa = mapa.concat([
    {y: 8380, delay: 1800, easing: 'easeOutQuart'},
    {y: 8754, delay: 1000, easing: 'easeOutQuart'},
    // 73 WINNER CHART
    {animacion: 'winners1'},
    {animacion: 'winners2'},
    {animacion: 'winners3'},
    {animacion: 'winners4'},
    {animacion: 'winners5'},
    {animacion: 'winners6'}
  ]);


  // ESTAFA Definiciones
  // mapa = mapa.concat([3050+offset, 4540+offset, 5440+offset, 6240+offset]);

  // $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
  // 0  - Inicio
  // 16 - Flor
  // 31 - Post Flor
  // 55 - Simulaciones
  // 73 - Post Simulaciones
  var pos = 0;

  // Inicializacion
  console.log("Start!");
  if (pos > 0) {
    pos--;
    nextPos();
  } else {
    scrollToPos(0);
  }
  // $("HTML, BODY").animate({ scrollTop: mapa[pos].y }, 300);
  AOS.init();

  function scrollToPos(y, delay, easing, cb) {
    console.log('scroll:',y,delay,easing);
    delay = delay || defaultDelay;
    easing = easing || defaultEasing;
    $("HTML, BODY").animate({ scrollTop: y }, delay, easing, () => {
      console.log('anim done!');
      if (cb) {
        return cb();
      }
    });
  };

  function nextPos() {
    pos++;
    if (pos >= mapa.length) {
      $('.scrollDisplay').text(document.body.scrollTop + " / " + "FIN");
      return;
    } else {
      console.log('Going to pos ' + pos + '/' + mapa.length);
    }
    var easing = mapa[pos].easing || defaultEasing;
    var delay = mapa[pos].delay || defaultDelay;
    $('.scrollDisplay').text(document.body.scrollTop + " / " + pos);
    if (mapa[pos].y) {
      scrollToPos(mapa[pos].y, delay, easing);
    }
    // animacion
    if (mapa[pos].animacion) {
      ejecutarAnimacion(mapa[pos].animacion);
    }
  };

  var posicionarPetalo = function(id, delay) {
    var fuegoUpDown_pushX = 72;
    var fuegoUpDown_pushY = 140;
    var fuegoLeftRight_pushX = 117;
    var fuegoLeftRight_pushY = 70;

    console.log('posicionando petalo:', id, delay);
    switch (id) {
      case 'tierra1':
      $('.tierra.p1')
      .position({
        my: "center top", at: "center center+50", of: $('.agua'),
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(0,    delay)
      ;
      break;
      case 'tierra2':
      $('.tierra.p2')
      .position({
        my: "center top", at: "center center-50", of: $('.agua'),
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(180,  delay)
      ;
      break;
      case 'aire1':
      $('.aire.p1')
      .position({
        my: "center top", at: "center-60 center+58", of: $('.agua'),
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(60,     delay)
      ;
      break;
      case 'aire2':
      $('.aire.p2')
      .position({
        my: "center top", at: "center+60 center+58", of: $('.agua'),
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(-60,    delay)
      ;
      break;
      case 'aire3':
      $('.aire.p3')
      .position({
        my: "center top", at: "center+60 center-58", of: $('.agua'),
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(180+60, delay)
      ;
      break;
      case 'aire4':
      $('.aire.p4')
      .position({
        my: "center top", at: "center-60 center-58", of: $('.agua'),
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(180-60, delay)
      ;
      break;
      case 'fuego1':
      $('.fuego.p1')
      .position({
        my: "center top", of: $('.agua'),
        at: `center-${fuegoUpDown_pushX} center+${fuegoUpDown_pushY}`,
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(20,    delay)
      ;
      break;
      case 'fuego2':
      $('.fuego.p2')
      .position({
        my: "center top", of: $('.agua'),
        at: `center-${fuegoLeftRight_pushX} center+${fuegoLeftRight_pushY}`,
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(75,    delay)
      ;
      break;
      case 'fuego3':
      $('.fuego.p3')
      .position({
        my: "center top", of: $('.agua'),
        at: `center+${fuegoUpDown_pushX} center+${fuegoUpDown_pushY}`,
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(-20,   delay)
      ;
      break;
      case 'fuego4':
      $('.fuego.p4')
      .position({
        my: "center top", of: $('.agua'),
        at: `center+${fuegoLeftRight_pushX} center+${fuegoLeftRight_pushY}`,
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(-75,   delay)
      ;
      break;
      case 'fuego5':
      $('.fuego.p5')
      .position({
        my: "center top", of: $('.agua'),
        at: `center+${fuegoUpDown_pushX} center-${fuegoUpDown_pushY}`,
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(180+20,   delay)
      ;
      break;
      case 'fuego6':
      $('.fuego.p6')
      .position({
        my: "center top", of: $('.agua'),
        at: `center+${fuegoLeftRight_pushX} center-${fuegoLeftRight_pushY}`,
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(180+75,   delay)
      ;
      break;
      case 'fuego7':
      $('.fuego.p7')
      .position({
        my: "center top", of: $('.agua'),
        at: `center-${fuegoUpDown_pushX} center-${fuegoUpDown_pushY}`,
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(180-20,   delay)
      ;
      break;
      case 'fuego8':
      $('.fuego.p8')
      .position({
        my: "center top", of: $('.agua'),
        at: `center-${fuegoLeftRight_pushX} center-${fuegoLeftRight_pushY}`,
        using: function(css, calc) { $(this).animate(css, delay, "linear"); }
      })
      .animateRotate(180-75,   delay)
      ;
      break;
    }
  };

  function esperar(delay) {
    if (!delay) delay = 700;
    return new Promise((resolve, reject) => {
      setTimeout(resolve, delay);
    });
  };

  function resetSim(sim) {
    var $sim = $(`.sim${sim}`);
    var $grupos = $sim.find(".grupos");
    var $ronda = $sim.find(".ronda");
    var $reciclados = $sim.find(".reciclados");
    var $nuevos = $sim.find(".nuevos");
    var $total = $sim.find(".total");
    $grupos.text(0);
    $ronda.text(0);
    $reciclados.text(0);
    $nuevos.text(0);
    $total.text(0);
    /*
    $sim.find('.count').text('0');
    $sim.find('.bar').text('0.0%');
    $sim.find('.bar').css({width: "0%"});
    */
  }

  // ANIMACIONES
  function ejecutarAnimacion(id) {
    console.log('ejecutando animacion:', id);
    var genericDelay = 600;

    switch(id) {
      case 'emoji_amor':
      $('.emoji_amor').animate({opacity: 1});
      break;

      case 'emoji_odio':
      $('.emoji_odio').animate({opacity: 1});
      break;

      case 'emoji_pensando':
      $('.emoji_pensando').animate({opacity: 1});
      break;

      case 'parte1':
      $(".hparte2").animate({opacity: 0.1}, 500);
      $(".hparte1 em").css({'text-shadow': '0 0 10px white'});
      $(".hparte1 span").css({'text-shadow': '0 0 10px red'});
      break;

      case 'parte2':
      $(".hparte1").animate({opacity: 0.1}, 500);
      $(".hparte2").animate({opacity: 1}, 500);
      $(".hparte1 em").css({'text-shadow': 'none'});
      $(".hparte1 span").css({'text-shadow': 'none'});
      $(".hparte2 em").css({'text-shadow': '0 0 10px white'});
      $(".hparte2 span").css({'text-shadow': '0 0 10px red'});
      break;

      case 'parte1_center':
      $(".hparte1").animate({
        'top': '+=200',
        'font-size': 100,
        'transform': 'scale(1.5)',
        opacity: 1
      }, 1200, 'easeOutQuart');
      $(".hparte2").animate({'top': '+=600', opacity: 0}, 600);
      $(".hparte1 em").css({'text-shadow': '0 0 10px white'});
      $(".hparte1 span").css({'text-shadow': '0 0 10px red'});
      break;


      case 'florParcial1':
      posicionarPetalo('tierra1', genericDelay);
      posicionarPetalo('tierra2', genericDelay);
      posicionarPetalo('aire1', genericDelay);
      posicionarPetalo('aire2', genericDelay);
      posicionarPetalo('aire3', genericDelay);
      posicionarPetalo('aire4', genericDelay);
      break;

      case 'florParcial2':
      posicionarPetalo('fuego5', 500);
      posicionarPetalo('fuego6', 600);
      posicionarPetalo('fuego4', 700);
      posicionarPetalo('fuego3', 800);
      posicionarPetalo('fuego1', 900);
      posicionarPetalo('fuego2', 1000);
      posicionarPetalo('fuego8', 1100);
      posicionarPetalo('fuego7', 1200);
      break;

      case 'flor1':
      posicionarPetalo('tierra1', genericDelay);
      posicionarPetalo('tierra2', genericDelay);
      esperar().then(() => {
        ejecutarAnimacion('ref_tierra');
      });
      break;

      case 'flor2':
      posicionarPetalo('aire1', genericDelay);
      posicionarPetalo('aire2', genericDelay);
      esperar().then(() => {
        posicionarPetalo('aire3', genericDelay);
        posicionarPetalo('aire4', genericDelay);
        esperar().then(() => {
          ejecutarAnimacion('ref_aire');
        });
      });
      break;

      case 'flor3':
      posicionarPetalo('fuego1', genericDelay);
      posicionarPetalo('fuego2', genericDelay);
      esperar().then(() => {
        posicionarPetalo('fuego3', genericDelay);
        posicionarPetalo('fuego4', genericDelay);
        esperar().then(() => {
          posicionarPetalo('fuego5', genericDelay);
          posicionarPetalo('fuego6', genericDelay);
          esperar().then(() => {
            posicionarPetalo('fuego7', genericDelay);
            posicionarPetalo('fuego8', genericDelay);
            esperar().then(() => {
              ejecutarAnimacion('ref_fuego');
            });
          });
        });
      });
      break;

      case 'ref_agua':
      $('.ref_agua').animate({opacity: '1'}, genericDelay);
      break;
      case 'ref_tierra':
      $('.ref_tierra').animate({opacity: '1'}, genericDelay);
      break;
      case 'ref_aire':
      $('.ref_aire').animate({opacity: '1'}, genericDelay);
      break;
      case 'ref_fuego':
      $('.ref_fuego').animate({opacity: '1'}, genericDelay);
      break;

      case 'ocultar_refs':
      $('.ref').animate({opacity: '0'}, genericDelay);
      break;
      case 'mostrar_refs':
      $('.ref').animate({opacity: '1'}, genericDelay);
      break;

      case 'highlight_fuego':
      $('.ref_aire').delay(0).animate({opacity: '0'}, 200);
      $('.ref_tierra').delay(0).animate({opacity: '0'}, 200);
      $('.ref_agua').delay(0).animate({opacity: '0'}, 200);

      $('.fuego.p6').delay(100).animate({opacity: '0'}, 200);
      $('.fuego.p4').delay(200).animate({opacity: '0'}, 200);
      $('.fuego.p3').delay(300).animate({opacity: '0'}, 200);
      $('.fuego.p1').delay(400).animate({opacity: '0'}, 200);
      $('.fuego.p2').delay(500).animate({opacity: '0'}, 200);
      $('.fuego.p8').delay(600).animate({opacity: '0'}, 200);
      $('.fuego.p7').delay(700).animate({opacity: '0'}, 200);

      $('.aire.p3').delay(800).animate({opacity: '0'}, 200);
      $('.aire.p2').delay(900).animate({opacity: '0'}, 200);
      $('.aire.p1').delay(1000).animate({opacity: '0'}, 200);
      $('.aire.p4').delay(1100).animate({opacity: '0'}, 200);

      $('.tierra.p2').delay(1200).animate({opacity: '0'}, 200);
      $('.tierra.p1').delay(1400).animate({opacity: '0'}, 200);

      $('.agua').delay(1600).animate({opacity: '0'}, 200);

      // fuego 5 cash 1
      $('.cash.c8').css({'margin-top': -241, 'margin-left': 87})
      .delay(2000)
      .animate({opacity: 1}, 400);

      $('.cash.c7').css({'margin-top': -118, 'margin-left': 185});
      $('.cash.c6').css({'margin-top': 68, 'margin-left': 194});
      $('.cash.c5').css({'margin-top': 207, 'margin-left': 81});
      $('.cash.c4').css({'margin-top': 211, 'margin-left': -94});
      $('.cash.c3').css({'margin-top': 113, 'margin-left': -188});
      $('.cash.c2').css({'margin-top': -54, 'margin-left': -191});
      $('.cash.c1').css({'margin-top': -163, 'margin-left': -87});

      break;

      case 'transfer':
      $('.cash.c1').animate({'margin-top': 0, 'margin-left': 0}, 1000);
      $('.cash.c2').animate({'margin-top': 0, 'margin-left': 0}, 1000);
      $('.cash.c3').animate({'margin-top': 0, 'margin-left': 0}, 1000);
      $('.cash.c4').animate({'margin-top': 0, 'margin-left': 0}, 1000);
      $('.cash.c5').animate({'margin-top': 0, 'margin-left': 0}, 1000);
      $('.cash.c6').animate({'margin-top': 0, 'margin-left': 0}, 1000);
      $('.cash.c7').animate({'margin-top': 0, 'margin-left': 0}, 1000);
      $('.cash.c8').animate({'margin-top': 0, 'margin-left': 0}, 1000);
      break;

      case 'all_fuego':
      $('.fuego.p6').delay(100).animate({opacity: '1'}, 200);
      $('.cash.c7').delay(100).animate({opacity: '1'}, 200);

      $('.fuego.p4').delay(200).animate({opacity: '1'}, 200);
      $('.cash.c6').delay(200).animate({opacity: '1'}, 200);

      $('.fuego.p3').delay(300).animate({opacity: '1'}, 200);
      $('.cash.c5').delay(300).animate({opacity: '1'}, 200);

      $('.fuego.p1').delay(400).animate({opacity: '1'}, 200);
      $('.cash.c4').delay(400).animate({opacity: '1'}, 200);

      $('.fuego.p2').delay(500).animate({opacity: '1'}, 200);
      $('.cash.c3').delay(500).animate({opacity: '1'}, 200);

      $('.fuego.p8').delay(600).animate({opacity: '1'}, 200);
      $('.cash.c2').delay(600).animate({opacity: '1'}, 200);

      $('.fuego.p7').delay(700).animate({opacity: '1'}, 200);
      $('.cash.c1').delay(700).animate({opacity: '1'}, 200);
      break;

      case 'mostrar_agua':
      $('.agua').delay(0).animate({opacity: '1'}, 200);
      $('.ref_agua').delay(200).animate({opacity: '1'}, 200);
      break;

      case 'mostrar_resto':
      ejecutarAnimacion('ocultar_refs');
      $('.aire.p3').delay(200).animate({opacity: '1'}, 200);
      $('.aire.p2').delay(300).animate({opacity: '1'}, 200);
      $('.aire.p1').delay(400).animate({opacity: '1'}, 200);
      $('.aire.p4').delay(500).animate({opacity: '1'}, 200);
      $('.tierra.p2').delay(600).animate({opacity: '1'}, 200);
      $('.tierra.p1').delay(700).animate({opacity: '1'}, 200);
      break;

      case 'agua_leave':
      $('.agua').animate({
        left: "-=1500",
      }, 2000);
      $('.cash').animate({
        'margin-left': -1502
      }, 2000);
      break;

      case 'split':
      $('.tierra.p1').animate({ 'margin-top': "+=0", 'margin-left': "+=500" }, 1000);
      $('.aire.p1').animate({ 'margin-top': "+=0", 'margin-left': "+=500" }, 1000);
      $('.aire.p2').animate({ 'margin-top': "+=0" , 'margin-left': "+=500"}, 1000);
      $('.fuego.p1').animate({ 'margin-top': "+=0", 'margin-left': "+=500" }, 1000);
      $('.fuego.p2').animate({ 'margin-top': "+=0", 'margin-left': "+=500" }, 1000);
      $('.fuego.p3').animate({ 'margin-top': "+=0", 'margin-left': "+=500" }, 1000);
      $('.fuego.p4').animate({ 'margin-top': "+=0", 'margin-left': "+=500" }, 1000);

      $('.tierra.p2').animate({ 'margin-top': "-=50", 'margin-left': "-=500" }, 1000);
      $('.aire.p3').animate({ 'margin-top': "-=50", 'margin-left': "-=500" }, 1000);
      $('.aire.p4').animate({ 'margin-top': "-=50", 'margin-left': "-=500" }, 1000);
      $('.fuego.p5').animate({ 'margin-top': "-=50", 'margin-left': "-=500" }, 1000);
      $('.fuego.p6').animate({ 'margin-top': "-=50", 'margin-left': "-=500" }, 1000);
      $('.fuego.p7').animate({ 'margin-top': "-=50", 'margin-left': "-=500" }, 1000);
      $('.fuego.p8').animate({ 'margin-top': "-=50", 'margin-left': "-=500" }, 1000);
      break;

      case 'split2':
      $('.tierra.p1').each(function() {
        $(this).clone().addClass('agua').removeClass('tierra petalo')
          .css('opacity', 0).css('top', '50px').appendTo('.flor').animate({opacity: '1'}, 1000);
        $(this).delay(0).animate({top: '-=30'}, 1000, function() {
          $(this).remove();
        });
      });
      $('.tierra.p2').each(function() {
        $(this).clone().addClass('agua').removeClass('tierra petalo')
          .css('opacity', 0).css('top', '-130px').appendTo('.flor').animate({opacity: '1'}, 1000);
        $(this).delay(0).animate({top: '+=30'}, 1000, function() {
          $(this).remove();
        });
      });
      $('.aire').each(function() {
        $(this).clone().addClass('tierra').removeClass('aire')
          .css('opacity', 0).appendTo('.flor').animate({opacity: '1'}, 1000);
        $(this).delay(1000).animate({opacity: '0'}, 100, function() {
          $(this).remove();
        });
      });
      $('.fuego').each(function() {
        $(this).clone().addClass('aire').removeClass('fuego')
          .css('opacity', 0).appendTo('.flor').animate({opacity: '1'}, 1000);
        $(this).delay(1000).animate({opacity: '0'}, 100, function() {
          $(this).remove();
        });
      });
      break;

      case 'split3':
      $('.video1').fadeIn();
      $('.video2').fadeIn();
      break;

      case 'split4play':
        $('.video1')[0].play();
        $('.video2')[0].play();
      break;

      case 'florFull':
      var tierraDelay = 900;
      var aireDelay = 1600;
      var fuegoDelay = 2000;
      posicionarPetalo('tierra1', tierraDelay);
      posicionarPetalo('tierra2', tierraDelay);
      posicionarPetalo('aire1', aireDelay);
      posicionarPetalo('aire2', aireDelay);
      posicionarPetalo('aire3', aireDelay);
      posicionarPetalo('aire4', aireDelay);
      posicionarPetalo('fuego1', fuegoDelay);
      posicionarPetalo('fuego2', fuegoDelay);
      posicionarPetalo('fuego3', fuegoDelay);
      posicionarPetalo('fuego4', fuegoDelay);
      posicionarPetalo('fuego5', fuegoDelay);
      posicionarPetalo('fuego6', fuegoDelay);
      posicionarPetalo('fuego7', fuegoDelay);
      posicionarPetalo('fuego8', fuegoDelay);
      break;

    case 'nombre1':
      $('.nombre.n0').animate({'top': -700});
      $('.nombre.n1').css({'top': '+=700', 'display': 'block'}).animate({'top': '-=700'});
      break;

      case 'nombre2':
      $('.nombre.n1').animate({'top': -700});
      $('.nombre.n2').css({'top': '+=700', 'display': 'block'}).animate({'top': '-=700'});
      break;

      case 'nombre3':
      $('.nombre.n2 .align-right').animate({'top': -700});
      $('.nombre.n3').css({'top': '+=700', 'display': 'block'}).animate({'top': '-=700'});
      break;
      case 'nombre4':
      $('.nombre.n3 .align-right').animate({'top': -700});
      $('.nombre.n4').css({'top': '+=700', 'display': 'block'}).animate({'top': '-=700'});
      break;
      case 'nombre5':
      $('.nombre.n4 .align-right').animate({'top': -700});
      $('.nombre.n5').css({'top': '+=700', 'display': 'block'}).animate({'top': '-=700'});
      break;
      case 'nombre6':
      $('.nombre.n2 .red').animate({'top': -700});
      $('.nombre.n6').css({'top': '+=700', 'display': 'block'}).animate({'top': '-=700'});
      break;

      case 'piramide_inicial':
      $('.piramide').animate({opacity: 1}, 500);
      break;

      case 'piramide_dinero':
      $('.piramide').addClass('vizMoney', 1000);
      $('.relleno').animate({opacity: 1}), 1000;
      break;

      case 'piramide_transfer1':
      $('.n1 .relleno').animate({'height': '100%'}, 2000, 'easeOutQuart');
      $('.n4 .relleno').animate({'height': '0%'}, 2000, 'easeOutQuart');
      $('.contadores .perdedores').animate({'opacity': 1}, 800); // inicializamos contador de perdedores
      animarContadores(1, false);
      animarContadores(1, true);
      break;

      case 'piramide_gana1':
      $('.piramide').animate({'margin-top': '-=200'}, 1000, 'easeOutQuart');
      $('.n1').addClass('ganadores', 20, function() {
        $('.n1 .bloque').animate({'top': -100, 'left': -900, 'width': 20, 'height': 40});
      });
      $('.contadores .ganadores').animate({'opacity': 1}, 800); // inicializamos contador de ganadores
      break;

      case 'showcaseSplit':
      $('.tmpSplit.split1').animate({width: 360}, 1000, 'easeOutQuart');
      $('.tmpSplit.split2').animate({width: 200}, 1000, 'easeOutQuart');
      $('.tmpSplit.split3').animate({width: 200}, 1000, 'easeOutQuart');
      $('.tmpSplit.split4').animate({width: 200}, 1000, 'easeOutQuart');
      break;

      case 'showcaseSplitB':
      $('.tmpSplitB.splitB1').animate({width: 100}, 1000, 'easeOutQuart');
      $('.tmpSplit.split2').animate({width: 100},   1000, 'easeOutQuart');
      $('.tmpSplitB.splitB2').animate({width: 100}, 1000, 'easeOutQuart');
      $('.tmpSplit.split3').animate({width: 100},   1000, 'easeOutQuart');
      $('.tmpSplitB.splitB3').animate({width: 100}, 1000, 'easeOutQuart');
      $('.tmpSplit.split4').animate({width: 80},    1000, 'easeOutQuart');
      $('.tmpSplitB.splitB4').animate({width: 80},  1000, 'easeOutQuart');
      break;

      case 'showcaseSplit2':
      $('.tmpSplit').animate({width: 0}, 1000, 'easeOutQuart');
      $('.tmpSplitB').animate({width: 0}, 1000, 'easeOutQuart');
      break;

      // ANIMACIONES PIRAMIDE
      case 'piramide_insert5':
      agregarNivel(5, 16);
      break;

      case 'piramide_transfer2':
      $('.n2 .relleno').animate({'height': '100%'}, 2000, 'easeOutQuart');
      $('.n5 .relleno').animate({'height': '0%'}, 2000, 'easeOutQuart');
      animarContadores(2, false);
      animarContadores(2, true);
      break;

      case 'piramide_gana2':
      $('.split1').animate({width: 0}, 500, 'easeOutQuart');
      $('.n2').addClass('ganadores', 20, function() {
        $('.n2 .bloque').animate({'top': -146, 'left': -861, 'width': 20, 'height': 40});
      });
      break;

      case 'piramide_insert6':
      agregarNivel(6, 32);
      break;

      case 'piramide_transfer3':
      $('.n3 .relleno').animate({'height': '100%'}, 2000, 'easeOutQuart');
      $('.n6 .relleno').animate({'height': '0%'}, 2000, 'easeOutQuart');
      animarContadores(3, false);
      animarContadores(3, true);
      break;

      case 'piramide_gana3':
      $('.n3').addClass('ganadores', 20, function() {
        $('.n3 .bloque').animate({'top': -192, 'left': -783, 'width': 20, 'height': 40});
      });
      break;

      case 'piramide_insert7':
      agregarNivel(7, 64);
      break;

      case 'piramide_transfer4':
      $('.n4 .relleno').animate({'height': '100%'}, 2000, 'easeOutQuart');
      $('.n7 .relleno').animate({'height': '0%'}, 2000, 'easeOutQuart');
      animarContadores(4, false);
      animarContadores(4, true);
      break;

      case 'piramide_gana4':
      $('.n4').addClass('ganadores', 20, function() {
        $('.n4 .bloque').animate({'top': -238, 'left': -627, 'width': 20, 'height': 40});
      });
      break;

      case 'piramide_insert8':
      agregarNivel(8, 128);
      break;

      case 'piramide_transfer5':
      $('.n5 .relleno').animate({'height': '100%'}, 2000, 'easeOutQuart');
      $('.n8 .relleno').animate({'height': '0%'}, 2000, 'easeOutQuart');
      animarContadores(5, false);
      animarContadores(5, true);
      break;

      case 'piramide_gana5':
      $('.n5').addClass('ganadores', 20, function() {
        $('.n5 .bloque').animate({'top': -284, 'left': -315, 'width': 20, 'height': 40});
      });
      break;

      case 'piramide_insert9':
      agregarNivel(9, 256);
      break;

      case 'piramide_transfer6':
      $('.n6 .relleno').animate({'height': '100%'}, 2000, 'easeOutQuart');
      $('.n9 .relleno').animate({'height': '0%'}, 2000, 'easeOutQuart');
      animarContadores(6, false);
      animarContadores(6, true);
      break;

      case 'piramide_gana6':
      $('.n6').addClass('ganadores', 20, function() {
        $('.n6 .bloque').animate({'top': -330, 'left': 278, 'width': 20, 'height': 40});
      });
      break;

      case 'hide_ganadores':
      $(".contadores").fadeOut();
      break;

      case 'simuladores_foto':
      $('.simuladores_foto').animate({right: -380}, 2000);
      break;

      // SIMULACIONES
      case 'sim_panorama1':
      console.log('SIMULACIONES >>>');
      scrollToPos(7254, 1000, 'easeOutQuart');
      break;

      case 'sim_prep1':
      $('.simuladores_foto').hide();
      var go = 1;
      if (EJECUTANDO_SIM) {
        $('.sim' + EJECUTANDO_SIM).addClass('colapsado', 1000);
        $('.viz' + EJECUTANDO_SIM).fadeOut(1000, () => {
          $(`.sim${go}`).removeClass('colapsado', 1000);
          $(`.viz${go}`).animate({opacity: 1}, 1000);
        });
      }
      EJECUTANDO_SIM = 0;
      break;
      case 'sim_run1':
      runSim(1);
      break;

      case 'sim_prep2':
      var go = 2;
      if (EJECUTANDO_SIM) {
        $('.sim' + EJECUTANDO_SIM).addClass('colapsado', 1000);
        $('.viz' + EJECUTANDO_SIM).fadeOut(1000, () => {
          $(`.sim${go}`).removeClass('colapsado', 1000);
          $(`.viz${go}`).animate({opacity: 1}, 1000);
        });
      } else {
        $(`.sim${go}`).removeClass('colapsado', 1000);
        $(`.viz${go}`).animate({opacity: 1}, 1000);
      }
      EJECUTANDO_SIM = 0;
      break;
      case 'sim_run2':
      runSim(2);
      break;

      case 'sim_prep3':
      var go = 3;
      if (EJECUTANDO_SIM) {
        $('.sim' + EJECUTANDO_SIM).addClass('colapsado', 1000);
        $('.viz' + EJECUTANDO_SIM).fadeOut(1000, () => {
          $(`.sim${go}`).removeClass('colapsado', 1000);
          $(`.viz${go}`).animate({opacity: 1}, 1000);
        });
      }
      EJECUTANDO_SIM = 0;
      break;
      case 'sim_run3':
      runSim(3);
      break;

      case 'sim_prep4':
      var go = 4;
      if (EJECUTANDO_SIM) {
        $('.sim' + EJECUTANDO_SIM).addClass('colapsado', 1000);
        $('.viz' + EJECUTANDO_SIM).fadeOut(1000, () => {
          $(`.sim${go}`).removeClass('colapsado', 1000);
          $(`.viz${go}`).animate({opacity: 1}, 1000);
        });
      }
      EJECUTANDO_SIM = 0;
      break;
      case 'sim_run4':
      runSim(4);
      break;


      // sim 1b &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
      case 'sim_prep1b':
      CHART_MODE = true;
      for (iSim=1; iSim<=4; iSim++) {
        for (iDataset=0; iDataset<3; iDataset++) {
          SIM_CHARTS[iSim].chart.data.datasets[iDataset].data = [];
        }
        SIM_CHARTS[iSim].chart.update();
      }
      $('.vizChart').fadeIn();
      resetSim(1);
      $('.chart_derecha_1').animate({opacity: 1}, 600);
      ejecutarAnimacion('sim_prep1');
      break;
      case 'sim_run1b':
      runSim(1,true);
      break;

      // sim 3b &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
      case 'sim_prep3b':
      CHART_MODE = true;
      resetSim(3);
      $('.chart_derecha_3').animate({opacity: 1}, 600);
      ejecutarAnimacion('sim_prep3');
      break;
      case 'sim_run3b':
      runSim(3,true);
      break;

      // sim 4b &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
      case 'sim_prep4b':
      CHART_MODE = true;
      resetSim(4);
      $('.chart_derecha_4').animate({opacity: 1}, 600);
      ejecutarAnimacion('sim_prep4');
      break;
      case 'sim_run4b':
      runSim(4,true);
      break;


      case 'winners1':
      $('.winner_chart .mujer.verde').animate({opacity: 1});
      break;

      case 'winners2':
      $('.winner_chart .mujer.rojo').animate({opacity: 1});
      break;

      case 'winners3':
      $('.chartA .mujer.rojo').switchClass("rojo", "verde", 1000, "linear");
      break;

      case 'winners4':
      $('.chartB').animate({opacity: 1});
      $('.chartC').animate({opacity: 1});
      $('.chartD').css({opacity: 1});
      $('.chartE').css({opacity: 1});
      break;

      case 'winners5':
      scrollToPos(10408, 3000, 'easeOutQuart');
      break;

      case 'winners6':
      scrollToPos(11535, 3000, 'easeOutQuart');
      break;
    }
  };

  function initChart() {
    CHART_OBJ[1] = new Chart(ctx[1], {
      type: 'line',
      data: {
          labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],
          datasets: [
            {
              label: 'Telar sin reingresos',
              fill: false,
              lineTension: 0,
              backgroundColor: 'red',
              borderColor: 'red',
              pointBackgroundColor: 'red',
              borderWidth: 2,
              pointRadius: 7,
              data: []
            }
          ]
      },
      options: {
        legend: {
           display: true,
        },
        maintainAspectRatio: false,
        scales: {
          xAxes: [{
            ticks: {
              fontSize: 22,
              fontColor: 'black'
            }
          }],
          yAxes: [{
            ticks: {
              callback: function(value, index, values) {
                return value + '%';
              },
              min: 0,
              max: 100,
              fontSize: 22,
              fontColor: 'black'
            }
          }]
        }
      }
    });

    CHART_OBJ[3] = new Chart(ctx[3], {
      type: 'line',
      data: {
          labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],
          datasets: [
            {
              label: 'Telar con 25% de reingresos',
              fill: false,
              lineTension: 0,
              backgroundColor: 'red',
              borderColor: 'red',
              pointBackgroundColor: 'red',
              borderWidth: 2,
              pointRadius: 7,
              data: []
            }
          ]
      },
      options: {
        legend: {
           display: true,
        },
        maintainAspectRatio: false,
        scales: {
          xAxes: [{
            ticks: {
              fontSize: 22,
              fontColor: 'black'
            }
          }],
          yAxes: [{
            ticks: {
              callback: function(value, index, values) {
                return value + '%';
              },
              min: 0,
              max: 100,
              fontSize: 22,
              fontColor: 'black'
            }
          }]
        }
      }
    });

    CHART_OBJ[4] = new Chart(ctx[4], {
      type: 'line',
      data: {
          labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],
          datasets: [
            {
              label: 'Telar con 100% de reingresos',
              fill: false,
              lineTension: 0,
              backgroundColor: 'red',
              borderColor: 'red',
              pointBackgroundColor: 'red',
              borderWidth: 2,
              pointRadius: 7,
              data: []
            },
          ]
      },
      options: {
        legend: {
           display: true,
        },
        maintainAspectRatio: false,
        scales: {
          xAxes: [{
            ticks: {
              fontSize: 22,
              fontColor: 'black'
            }
          }],
          yAxes: [{
            ticks: {
              callback: function(value, index, values) {
                return value + '%';
              },
              min: 0,
              max: 100,
              fontSize: 22,
              fontColor: 'black'
            }
          }]
        }
      }
    });




    var initSimChart = (nro) => {
      var setup = {
        type: 'bar',
        data: {
            datasets: [
              {
                label: 'Saldo negativo',
                backgroundColor: 'red',
                data: []
              },
              {
                label: 'En cero',
                backgroundColor: 'gray',
                data: []
              },
              {
                label: 'Saldo positivo',
                backgroundColor: 'rgb(0,200,0)',
                data: []
              },
            ]
        },
        options: {
          animation: {
            easing: 'easeOutQuart',
            duration: 1000,
          },
          legend: {
             display: true,
          },
          maintainAspectRatio: false,
          scales: {
            xAxes: [{
              stacked: true,
              ticks: {
                fontSize: 20,
              }
            }],
            yAxes: [{
              stacked: true,
              ticks: {
                callback: locale,
                fontSize: 20,
              }
            }]
          }
        }
      };
      if (nro !== 2) {
        setup.data.labels = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18];
      } else {
        setup.data.labels = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16];
      }
      var chart = new Chart(SIM_CHARTS[nro].ctx, setup);
      SIM_CHARTS[nro].chart = chart;
    };

    initSimChart(1);
    initSimChart(2);
    initSimChart(3);
    initSimChart(4);

  };

/*

*/

  function runSim(simulacion, plotChart) {
    EJECUTANDO_SIM = simulacion;
    var maxRondas = 18;
    if (simulacion == 2) maxRondas = 16;
    var CAPITAL_ENTRADA = 1000;
    var grupos = 1;
    var ronda = 0;
    var nuevos = 0;
    var reciclados = 0;
    var ganadores = 0;
    var participantes = [];
    var listosParaReingresar = [];

    // nivel: [green, white, red]
    var medidores = {
      0: [0,0,0],
      1: [0,0,0],
      2: [0,0,0],
      3: [0,0,0],
      4: [0,0,0]
    };

    if (simulacion == 1 || simulacion > 2) {
      participantes = [
        {nivel: 1, capital: 0},
        {nivel: 2, capital: 0},
        {nivel: 2, capital: 0},
        {nivel: 3, capital: 0},
        {nivel: 3, capital: 0},
        {nivel: 3, capital: 0},
        {nivel: 3, capital: 0},
      ];
    } else if (simulacion == 2) {
      participantes = [
        {nivel: 1, capital: 0},
        {nivel: 2, capital: 0},
        {nivel: 3, capital: 0},
        {nivel: 4, capital: 0},
        {nivel: 5, capital: 0},
        {nivel: 6, capital: 0},
        {nivel: 7, capital: 0},
        {nivel: 8, capital: 0},
      ];
    };

    // PIXELS!!!
    // 1 pixel = 4 personas
    var refrescarMedidorUI = (medidor) => {
      var ROW_SIZE = 890;
      var DOT_W = 1;
      var DOT_H = 1;
      var n = 0, filas = 0, resto = 0;
      var colores = {0: 'green', 1: 'white', 2: 'red'};
      // iterar colores

      /*
      if (ronda > 0) {
        ROW_SIZE = 1780;
        DOT_W = 0.5;
        DOT_H = 0.5;
      }
      */

      for (c=0; c<=2; c++) {
        n = medidores[medidor][c] / 4; // 1 pixel = 4 personas
        filas = Math.floor(n / ROW_SIZE);
        resto = n % ROW_SIZE;
        $(`.viz${EJECUTANDO_SIM} .bloq${medidor} .${colores[c]}`).text("").css({
          width: ROW_SIZE*DOT_W + "px", height: DOT_H*filas + "px"
        });
        $(`.viz${EJECUTANDO_SIM} .bloq${medidor} .${colores[c]}R`).css({
          width: resto*DOT_W + "px", height: DOT_H + "px"
        });
      }
    };

    var refrescarMedidores = () => {
      if (!CHART_MODE) {
        // Reiniciar
        medidores = { 0: [0,0,0], 1: [0,0,0], 2: [0,0,0], 3: [0,0,0], 4: [0,0,0] };
        // Contar:
        participantes.forEach((p) => {
          var colorId = 1;
          if (p.capital < 0) colorId = 2;
          if (p.capital > 0) colorId = 0;
          medidores[p.nivel][colorId]++;
        });

        for(i=0; i<=4; i++) {
          refrescarMedidorUI(i);
        }
      }
    };

    var total = 0;
    var $sim = $(".sim" + simulacion);
    var $grupos = $sim.find(".grupos");
    var $ronda = $sim.find(".ronda");
    var $reciclados = $sim.find(".reciclados");
    var $nuevos = $sim.find(".nuevos");
    var $total = $sim.find(".total");
    var breakdown = [
      {count: 0, perc: 0},
      {count: 0, perc: 0},
      {count: 0, perc: 0},
      {count: 0, perc: 0},
      {count: 0, perc: 0},
      {count: 0, perc: 0},
    ];
    /*
    [0,1,2,3,4,5].forEach((item) => {
      breakdown[item].elCapital = $sim.find(".capital_" + item);
      breakdown[item].elCount = breakdown[item].elCapital.find(".count");
      breakdown[item].elBar = breakdown[item].elCapital.find(".bar");
    });
    */


    var refreshUI = () => {
      $grupos.text(locale(grupos));
      $ronda.text(ronda);
      $reciclados.text(locale(reciclados));
      $nuevos.text(locale(nuevos));
      $total.text(locale(total));
      [0,1,2].forEach((item) => {
        breakdown[item].percN = (breakdown[item].count / total)*100;
        breakdown[item].perc = (breakdown[item].percN).toFixed(1);
        /*
        breakdown[item].elCount.text(locale(breakdown[item].count));
        breakdown[item].elBar.css({width: breakdown[item].perc + "%"});
        breakdown[item].elBar.text(breakdown[item].perc + "%");
        */
      });
      if (CHART_MODE && simulacion !== 2) {
        var perdieron = breakdown[0].percN;
        CHART_OBJ[simulacion].data.datasets[0].data.push(perdieron);
        CHART_OBJ[simulacion].update();
        $('.perdedores' + simulacion).text((breakdown[0].percN).toFixed(2) + "%");
      }
      // SIM SIM_CHARTS
      [0,1,2].forEach((item) => {
        SIM_CHARTS[simulacion].chart.data.datasets[item].data.push(breakdown[item].count);
        SIM_CHARTS[simulacion].chart.update();
      });
    };

    var viz2 = [];
    if (simulacion == 2) {
      for (i=1; i<=8; i++) {
        viz2.push($('.viz2 .nodo' + i));
      }
    }
    var vizCirculoBarras = ($nodo, positivo, negativo) => {
      var altoBarra = 150;
      var hPositivo = parseInt(positivo*altoBarra);
      $nodo.find('.dinero_positivo').css({
          'height': `${hPositivo}px`,
          'margin-top': `${150-hPositivo}px`
        });
      $nodo.find('.dinero_negativo').css({'height': parseInt(negativo*altoBarra) + "px"});
    };
    var vizCirculo = (participanteIndex, capital) => {
      if (capital == 0) {
        vizCirculoBarras(viz2[participanteIndex], 0, 0);
      } else if (capital > 0) {
        vizCirculoBarras(viz2[participanteIndex], capital / 7000, 0);
      } else {
        vizCirculoBarras(viz2[participanteIndex], 0, capital / -7000);
      }
    };

    var categorize = () => {
      // Reset
      breakdown.forEach((i) => {
        i.count = 0;
      });
      participantes.forEach((p) => {
        if (p.capital < 0) breakdown[0].count++;
        if (p.capital == 0) breakdown[1].count++;
        if (p.capital > 0) breakdown[2].count++;
        /*
        if (simulacion == 1 || simulacion > 2) {
          if (p.capital < 0) breakdown[0].count++;
          if (p.capital == 0) breakdown[1].count++;
          if (p.capital > 0 && p.capital < 8000) breakdown[2].count++;
          if (p.capital >= 8000 && p.capital < 20000) breakdown[3].count++;
          if (p.capital >= 20000 && p.capital < 50000) breakdown[4].count++;
          if (p.capital >= 50000) breakdown[5].count++;
        } else if (simulacion == 2) {
          if (p.capital <= -7000) breakdown[0].count++;
          if (p.capital > -7000 && p.capital < 0) breakdown[1].count++;
          if (p.capital == 0) breakdown[2].count++;
          if (p.capital > 0 && p.capital < 7000) breakdown[3].count++;
          if (p.capital >= 7000) breakdown[4].count++;
        }
        */
      });
    };

    var agregarPersona = (nivel, capital) => {
      var reingreseAUno = false;
      if (simulacion > 2) {
        if (listosParaReingresar.length > 0) {
          var reingresa = listosParaReingresar.pop();
          if (participantes[reingresa].nivel > 0) {
            console.log('ERROR: REINGRESANDO A ALGUIEN QUE NO ES NIVEL 0');
          }
          participantes[reingresa].nivel = nivel;
          participantes[reingresa].capital -= capital;
          reciclados++;
          reingreseAUno = true;
        }
      }
      if (!reingreseAUno) {
        nuevos++;
        participantes.push({nivel: nivel, capital: capital});
      }
    };

    var simStep = () => {
      if (simulacion == 1 || simulacion > 2) {
        ronda++;
        nuevos = 0;
        acumuladorGanadores = 0;


        // 3. Contar aguas, formaran grupos nuevos:
        grupos = 0;
        participantes.forEach((p) => {
          if (p.nivel == 1) {
            grupos++;
          }
        });

        // 4. Cada Aire recluta a 2 personas
        participantes.forEach((p) => {
          if (p.nivel == 3) {
            agregarPersona(4, -CAPITAL_ENTRADA);
            agregarPersona(4, -CAPITAL_ENTRADA);
          }
        });
        total = participantes.length;


        refrescarMedidores();

        // 1. Ver cuantos aguas pueden ganar:
        participantes.forEach((p) => {
          if (p.nivel == 4) {
            acumuladorGanadores += 0.125;
          }
        });

        var aimGanar = Math.floor(acumuladorGanadores);
        var ascenderTipos = {
          1: aimGanar,
          2: aimGanar*2,
          3: aimGanar*4,
          4: aimGanar*8
        };

        // 2. Cobrar y ascender a todos
        var reTope, reContador = 1;
        if (simulacion == 3) reTope = 4;
        if (simulacion == 4) reTope = 1; // no se usa

        [1,2,3,4].forEach((tipo) => {
          for (i=0; i<=ascenderTipos[tipo]; i++) {
            participantes.forEach((p, indiceP) => {
              if (p.nivel == tipo && ascenderTipos[tipo] > 0) {
                if (tipo == 1) {
                  p.capital += CAPITAL_ENTRADA*8;

                  // REINGRESOS ----
                  if (simulacion == 3) {
                    if (reContador == reTope) {
                      reContador = 1;
                      p.reingresar = true;
                      listosParaReingresar.push(indiceP);
                    } else {
                      p.reingresar = false;
                      reContador++;
                    }
                  } else if (simulacion == 4) {
                    p.reingresar = true;
                    listosParaReingresar.push(indiceP);
                  }
                  // REINGRESOS ----
                }
                p.nivel--;
                ascenderTipos[tipo]--;
              }
            });
          }
        });

      } // Fin Sim1

      if (simulacion == 2) {
        ronda++;
        total = participantes.length;
        participantes.forEach((p, pIndex) => {
          // Todos ponen
          p.capital -= CAPITAL_ENTRADA;
          // Nivel 1 gana
          if (p.nivel == 1) {
            p.capital += CAPITAL_ENTRADA * participantes.length;
          }
          // Todos ascienden
          p.nivel--;
          if (p.nivel == 0) p.nivel = 8; // Ganador va a niv 8
          vizCirculo(pIndex, p.capital);
        });
      }


      // UNIVERSAL OPERATIONS AFTER SIM STEP
      categorize();
      refreshUI();
      setTimeout(() => {
        if (ronda < maxRondas && EJECUTANDO_SIM == simulacion) {
          simStep();
        }
      }, 1500);
    };

    simStep();
  }

  window.onscroll = function() {
    $('.scrollDisplay').text(document.body.scrollTop + " / " + pos);
  };
  $('body').mousedown(function(ev) {
    if (ev.which === 3) {
      nextPos();
    }
  });
});
</script>
</head>
<body class="noselect" oncontextmenu="return false">
  <div class="scrollDisplay">0</div>

  <!-- ............. COMIENZO ............. -->
  <div class="spacer-600"> </div>
  <h1 data-aos-anchor-placement="center-center"  data-aos="flip-down">
    ¡Hola!
  </h1>
  <h2 data-aos-anchor-placement="center-center"  data-aos="flip-down">
    Este es un pequeño resumen
  </h2>
  <h2 data-aos-anchor-placement="center-center"  data-aos="flip-down">
    de cómo funciona
  </h2>
  <h2 data-aos-anchor-placement="center-center"  data-aos="flip-down">
    <span>el Telar de la Abundancia</span>
  </h2>
  <div class="spacer-25"></div>

  <!-- ............. BLACK ............. -->
  <div class="black-bg">

    <!-- ............. Thinking ............. -->
    <div class="spacer-50"></div>
    <div data-aos-anchor-placement="bottom-bottom" data-aos="fade-up">
      <div class="emoji_amor emoji_flotante">
      </div>
      <div class="emoji_odio emoji_flotante">
      </div>
      <img src="thinking.gif" class="emoji_pensando" />
    </div>

    <div class="spacer-500" style="margin-bottom: 126px"> </div>

    <h2 class="hparte1" data-aos-anchor-placement="center-center" data-aos="flip-down"
    style="position: absolute; margin-top: -450px; text-align: center; width: 100%">
      <span>Episodio 1</span><br /><em style="font-style: normal">¿Cómo funciona?</em></h2>

    <h2  class="hparte2" data-aos-anchor-placement="bottom-bottom" data-aos="flip-down"
    style="position: absolute; margin-bottom: -400px; text-align: center; width: 100%">
      <span>Episodio 2</span><br />AMIGA DATE CUENTA</h2>

    <div class="spacer-500"> </div>
  </div>

  <div class="spacer-700"> </div>
  <div class="spacer-50"> </div>
  <div class="nombres">
    <div class="nombre n0">
      <div class="redCenter">"El avión"</div>
    </div>
    <div class="nombre n1">
      <div class="align-right">Telar de&nbsp;</div>
      <div class="red">mujeres</div>
    </div>
    <div class="nombre n2">
      <div class="align-right">Telar de la&nbsp;</div>
      <div class="red">abundancia</div>
    </div>
    <div class="nombre n3">
      <div class="align-right">Mandala de la&nbsp;</div>
      <div class="red"></div>
    </div>
    <div class="nombre n4">
      <div class="align-right">Burbujas de la&nbsp;</div>
      <div class="red"></div>
    </div>
    <div class="nombre n5">
      <div class="align-right">Flor de la&nbsp;</div>
      <div class="red"></div>
    </div>
    <div class="nombre n6">
      <div class="align-right"></div>
      <div class="red">confianza</div>
    </div>
  </div>


  <div class="spacer-50"> </div>
  <div class="spacer-600"> </div>
  <div class="spacer-300"> </div>


<div class="flor">
  <div class="ref ref_agua">
    <div class="titulo">Agua</div>
    <div class="subtexto">Recibe todo el dinero recaudado</div>
  </div>
  <div class="ref ref_tierra">
    <div class="subtexto">Apoya y motiva al resto</div>
    <div class="titulo">Tierra</div>
  </div>
  <div class="ref ref_aire">
    <div class="titulo">Aire</div>
    <div class="subtexto">Recluta nuevos miembros</div>
  </div>
  <div class="ref ref_fuego">
    <div class="titulo">Fuego</div>
    <div class="subtexto">Pone dinero</div>
  </div>


  <div class="agua"></div>
  <div class="petalo tierra p1"></div>
  <div class="petalo tierra p2"></div>
  <div class="petalo aire p1"></div>
  <div class="petalo aire p2"></div>
  <div class="petalo aire p3"></div>
  <div class="petalo aire p4"></div>
  <div class="petalo fuego p1"></div>
  <div class="petalo fuego p2"></div>
  <div class="petalo fuego p3"></div>
  <div class="petalo fuego p4"></div>
  <div class="petalo fuego p5"></div>
  <div class="petalo fuego p6"></div>
  <div class="petalo fuego p7"></div>
  <div class="petalo fuego p8"></div>


  <div class="cash c1"> </div>
  <div class="cash c2"> </div>
  <div class="cash c3"> </div>
  <div class="cash c4"> </div>
  <div class="cash c5"> </div>
  <div class="cash c6"> </div>
  <div class="cash c7"> </div>
  <div class="cash c8"> </div>
</div>

<video class="video1">
  <source src="FLOR2.mp4" type="video/mp4">
</video>
<video class="video2">
  <source src="FLOR2.mp4" type="video/mp4">
</video>

  <div class="spacer-600"> </div>
  <div class="spacer-400"> </div>

  <div class="contadores">
    <div class="ganadores">recibieron $8000<span class="ganadoresNum">0</span></div>
    <div class="perdedores"><span class="perdedoresNum">0</span>regalaron $1000</div>
  </div>
  <!-- HTML PIRAMIDE -->
  <div class="piramide">
    <div class="nivel _agua n1">
      <div class="bloque"><div class="relleno"></div></div>
    </div>
    <div class="nivel _tierra n2">
      <div class="bloque"><div class="relleno"></div></div><div class="tmpSplit split1"></div><div class="bloque"><div class="relleno"></div></div>
    </div>
    <div class="nivel _aire n3">
      <div class="bloque"><div class="relleno"></div>
      </div><div class="tmpSplitB splitB1">
      </div><div class="bloque"><div class="relleno"></div>
      </div><div class="tmpSplit split2">
      </div><div class="bloque"><div class="relleno"></div>
      </div><div class="tmpSplitB splitB2">
      </div><div class="bloque"><div class="relleno"></div>
      </div>
    </div>
    <div class="nivel _fuego n4">
      <div class="bloque">
        <div class="relleno"></div>
      </div><div class="bloque">
        <div class="relleno"></div>
      </div><div class="tmpSplitB splitB3">
      </div><div class="bloque">
        <div class="relleno"></div>
      </div><div class="bloque">
        <div class="relleno"></div>
      </div><div class="tmpSplit split3">
      </div><div class="bloque">
        <div class="relleno"></div>
      </div><div class="bloque">
        <div class="relleno"></div>
      </div><div class="tmpSplitB splitB3">
      </div><div class="bloque">
        <div class="relleno"></div>
      </div><div class="bloque">
        <div class="relleno"></div>
      </div>
    </div>
  </div>


  <!-- ............. WHITE AGAIN ............. -->
  <!-- ............. Fase ESTAFA ............. -->
  <div class="spacer-600"> </div>

  <h2>Hagamos algunas</h2>
  <h1 style="margin-top: 0px"><span>simulaciones</span></h1>

  <div class='simuladores_foto'>

  </div>

  <div class="spacer-400"> </div>

  <div class="simulaciones">

    <div class="sim_left">

    <div class="sim sim2 colapsado">
      <div class="titulos">
        <h4>Círculo de Ahorro</h4>
        <h5>(nunca se suma gente nueva)</h5>
      </div>
      <div class="sim_data">
        <div class="dato floatRight">
          Grupos: <span class="grupos">1</span>
        </div>
        <div class="dato floatLeft">
          Ronda: <span class="ronda">0</span>
        </div>
        <div class="clear"></div>
        <div class="dato floatRight" style="display: none">
          Participantes reciclados: <span class="reciclados">0</span>
        </div>
        <div class="dato floatLeft">
          Participantes nuevos: <span class="nuevos">0</span>
        </div>
        <div class="clear"></div>
        <div class="dato">Personas involucradas: <span class="total">8</span></div>
        <!-- Chart -->
        <div class="sim-chart-container"
          style="position: relative; height:278px; width:862px">
          <canvas id="simChart2"></canvas>
        </div>
      </div>
    </div>

    <div class="sim sim1 colapsado">
      <div class="titulos">
        <h4>Telar 100% Abierto</h4>
        <h5>(ningún ganador reingresa)</h5>
      </div>
      <div class="sim_data">
        <div class="dato floatRight">
          Grupos: <span class="grupos">0</span>
        </div>
        <div class="dato floatLeft">
          Ronda: <span class="ronda">0</span>
        </div>
        <div class="clear"></div>
        <div class="dato floatRight" style="display: none">
          Participantes reciclados: <span class="reciclados">0</span>
        </div>
        <div class="dato floatLeft">
          Participantes nuevos: <span class="nuevos">0</span>
        </div>
        <div class="clear"></div>
        <div class="dato">Personas involucradas: <span class="total">0</span></div>

        <!-- Chart -->
        <div class="sim-chart-container"
          style="position: relative; height:278px; width:862px">
          <canvas id="simChart1"></canvas>
        </div>

      </div>
    </div>

    <div class="sim sim3 colapsado">
      <div class="titulos">
        <h4>Telar (reciclaje=25%)</h4>
        <h5>(1 de cada 4 ganadores reingresa al sistema)</h5>
      </div>
      <div class="sim_data">
        <div class="dato floatRight">
          Grupos: <span class="grupos">0</span>
        </div>
        <div class="dato floatLeft">
          Ronda: <span class="ronda">0</span>
        </div>
        <div class="clear"></div>
        <div class="dato floatRight">
          Participantes reciclados: <span class="reciclados">0</span>
        </div>
        <div class="dato floatLeft">
          Participantes nuevos: <span class="nuevos">0</span>
        </div>
        <div class="clear"></div>
        <div class="dato">Personas involucradas: <span class="total">0</span></div>

        <!-- Chart -->
        <div class="sim-chart-container"
          style="position: relative; height:278px; width:862px">
          <canvas id="simChart3"></canvas>
        </div>
      </div>
    </div>

    <div class="sim sim4 colapsado">
      <div class="titulos">
      <h4>Telar (reciclaje=100%)</h4>
      <h5>(todos los ganadores reingresan al sistema)</h5>
      </div>
      <div class="sim_data">
        <div class="dato floatRight">
          Grupos: <span class="grupos">0</span>
        </div>
        <div class="dato floatLeft">
          Ronda: <span class="ronda">0</span>
        </div>
        <div class="clear"></div>
        <div class="dato floatRight">
          Participantes reciclados: <span class="reciclados">0</span>
        </div>
        <div class="dato floatLeft">
          Participantes nuevos: <span class="nuevos">0</span>
        </div>
        <div class="clear"></div>
        <div class="dato">Personas involucradas: <span class="total">0</span></div>
        <!-- Chart -->
        <div class="sim-chart-container"
          style="position: relative; height:278px; width:862px">
          <canvas id="simChart4"></canvas>
        </div>
      </div>
    </div>

  </div> <!-- sim left -->
  <div class="sim_right">
    <div class="viz2">
      <div class="nodo nodo1">
        <div class="dinero_positivo"></div>
        <div class="circulo"></div>
        <div class="dinero_negativo"></div>
      </div>
      <div class="nodo nodo2">
        <div class="dinero_positivo"></div>
        <div class="circulo"></div>
        <div class="dinero_negativo"></div>
      </div>
      <div class="nodo nodo3">
        <div class="dinero_positivo"></div>
        <div class="circulo"></div>
        <div class="dinero_negativo"></div>
      </div>
      <div class="nodo nodo4">
        <div class="dinero_positivo"></div>
        <div class="circulo"></div>
        <div class="dinero_negativo"></div>
      </div>
      <div class="nodo nodo5">
        <div class="dinero_positivo"></div>
        <div class="circulo"></div>
        <div class="dinero_negativo"></div>
      </div>
      <div class="nodo nodo6">
        <div class="dinero_positivo"></div>
        <div class="circulo"></div>
        <div class="dinero_negativo"></div>
      </div>
      <div class="nodo nodo7">
        <div class="dinero_positivo"></div>
        <div class="circulo"></div>
        <div class="dinero_negativo"></div>
      </div>
      <div class="nodo nodo8">
        <div class="dinero_positivo"></div>
        <div class="circulo"></div>
        <div class="dinero_negativo"></div>
      </div>
    </div> <!-- viz2 -->
    <div class="viz1 vizX">
      <div class="bloq bloq0">
        <h4>Ganadores</h4>
        <div class="green"></div>
        <div class="greenR"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq1">
        <h4>Agua</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq2">
        <h4>Tierra</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq3">
        <h4>Aire</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq4">
        <h4>Fuego</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
    </div>
    <div class="viz3 vizX">
      <div class="bloq bloq0">
        <h4>Ganadores</h4>
        <div class="green"></div>
        <div class="greenR"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq1">
        <h4>Agua</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq2">
        <h4>Tierra</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq3">
        <h4>Aire</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq4">
        <h4>Fuego</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
    </div>
    <div class="viz4 vizX">
      <div class="bloq bloq0">
        <h4>Ganadores</h4>
        <div class="green"></div>
        <div class="greenR"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq1">
        <h4>Agua</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq2">
        <h4>Tierra</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq3">
        <h4>Aire</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
      <div class="bloq bloq4">
        <h4>Fuego</h4>
        <div class="greenR"></div>
        <div class="green"></div>
        <div class="white"></div>
        <div class="whiteR"></div>
        <div class="red"></div>
        <div class="redR"></div>
      </div>
    </div>
    <div class="vizChart">
      <h4>Porcentaje de gente que sale perdiendo</h4>
      <div class="perdedores1"></div>
      <div class="perdedores3"></div>
      <div class="perdedores4"></div>
      <div class="chart-container chart_derecha_1" style="position: relative; height:310px; width:870px">
        <canvas id="myChart1"></canvas>
      </div>
      <div class="chart-container chart_derecha_3" style="position: relative; height:310px; width:870px">
        <canvas id="myChart3"></canvas>
      </div>
      <div class="chart-container chart_derecha_4" style="position: relative; height:310px; width:870px">
        <canvas id="myChart4"></canvas>
      </div>
    </div>
  </div>
</div>

  <div class="spacer-400"> </div>

  <h1>Conclusión:</h1>

  <div class="winner_chart chartA">
    <div class="mujer verde"></div>
    <div class="mujer rojo"></div>
    <div class="mujer rojo"></div>
    <div class="mujer rojo"></div>
    <div class="mujer rojo"></div>
    <div class="mujer rojo"></div>
    <div class="mujer rojo"></div>
    <div class="mujer rojo"></div>
  </div>
  <div class="winner_chart chartB">
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
  </div>
  <div class="winner_chart chartC">
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div>
  </div>

  <div class="winner_chart chartD">
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div>
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div>

    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div>
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <!-- 8 -->
    <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div> <div class="mujer verde"></div>
     <div class="mujer verde"></div> <div class="mujer verde"></div>
    <div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div><div class="mujer verde"></div>

  </div>


  <div class="winner_chart chartE">
    <!-- 8 -->
    <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div>
    <!-- 8 -->
    <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div>
    <div class="mujer rojo"></div><div class="mujer rojo"></div><div class="mujer rojo"></div><div class="mujer rojo"></div>
    <!-- 8 -->
    <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div>
    <!-- 8 -->
    <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div>
    <div class="mujer rojo"></div><div class="mujer rojo"></div><div class="mujer rojo"></div><div class="mujer rojo"></div>
    <!-- 8 -->
    <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div>
    <!-- 8 -->
    <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div>
    <div class="mujer rojo"></div><div class="mujer rojo"></div><div class="mujer rojo"></div><div class="mujer rojo"></div>
    <!-- 8 -->
    <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div>
    <!-- 8 -->
    <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div> <div class="mujer rojo"></div>
     <div class="mujer rojo"></div> <div class="mujer rojo"></div>
    <div class="mujer rojo"></div><div class="mujer rojo"></div><div class="mujer rojo"></div><div class="mujer rojo"></div>

  </div>




  <div class="spacer-600"> </div>
  <div class="spacer-600"> </div>
  <div class="spacer-600"> </div>
  <div class="spacer-600"> </div>

</body>
</html>
